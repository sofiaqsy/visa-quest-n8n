{
  "name": "Daily Phrases Generator for Firebase",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 24,
              "triggerAtHour": 6
            }
          ]
        }
      },
      "name": "Daily Trigger 6AM",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [250, 300],
      "typeVersion": 1,
      "id": "trigger"
    },
    {
      "parameters": {
        "functionCode": "// Definir los moods disponibles\nconst moods = [\n  'ansioso',\n  'esperanzado',\n  'frustrado',\n  'optimista',\n  'cansado',\n  'determinado'\n];\n\n// Fecha de hoy\nconst today = new Date();\nconst dateStr = today.toISOString().split('T')[0];\n\n// Banco de frases por mood (sin IA)\nconst phrasesBank = {\n  ansioso: [\n    'La ansiedad es temporal, pero tu determinaciÃ³n es permanente ðŸ’ª',\n    'Cada documento enviado es un paso mÃ¡s cerca de tu meta ðŸ“„',\n    'Respira profundo, tu visa estÃ¡ en proceso y eso es progreso ðŸŒŸ',\n    'Tu ansiedad demuestra cuÃ¡nto significa esto para ti ðŸ’',\n    'Los procesos toman tiempo, pero tu paciencia serÃ¡ recompensada â³'\n  ],\n  esperanzado: [\n    'Tu esperanza estÃ¡ construyendo puentes hacia tu futuro âœˆï¸',\n    'Hoy puede ser el dÃ­a de las buenas noticias ðŸ“§',\n    'La esperanza es el combustible de los valientes ðŸš€',\n    'Mantener la esperanza es ya una victoria diaria ðŸŒ…',\n    'Tu esperanza ilumina no solo tu camino, sino el de otros âœ¨'\n  ],\n  frustrado: [\n    'La frustraciÃ³n de hoy es la historia de superaciÃ³n de maÃ±ana ðŸ“–',\n    'Es normal sentir frustraciÃ³n, es seÃ±al de que te importa ðŸ’',\n    'Cada no te acerca mÃ¡s al sÃ­ definitivo ðŸ—ï¸',\n    'Tu frustraciÃ³n es vÃ¡lida, Ãºsala como combustible ðŸ”¥',\n    'Los procesos difÃ­ciles forjan personas extraordinarias ðŸ’Ž'\n  ],\n  optimista: [\n    'Tu optimismo estÃ¡ acelerando el universo a tu favor ðŸŒˆ',\n    'Â¡Esa actitud positiva es tu mejor carta de presentaciÃ³n! â­',\n    'Los optimistas como tÃº escriben las mejores historias de Ã©xito ðŸ“',\n    'Tu energÃ­a positiva estÃ¡ abriendo puertas invisibles ðŸšª',\n    'El optimismo es el idioma universal del Ã©xito ðŸŒ'\n  ],\n  cansado: [\n    'El cansancio es la medalla de los valientes ðŸ…',\n    'Descansa, los grandes viajes requieren pausas estratÃ©gicas ðŸ›Œ',\n    'Tu cansancio es prueba de tu esfuerzo, no de debilidad ðŸ’œ',\n    'Hasta los hÃ©roes necesitan recargar energÃ­as ðŸ”‹',\n    'El descanso tambiÃ©n es parte del proceso, no lo subestimes ðŸŒ™'\n  ],\n  determinado: [\n    'Tu determinaciÃ³n estÃ¡ moviendo montaÃ±as burocrÃ¡ticas ðŸ”ï¸',\n    'Esa determinaciÃ³n tuya es imparable, igual que tu visa ðŸŽ¯',\n    'Los determinados como tÃº siempre encuentran el camino ðŸ›¤ï¸',\n    'Tu determinaciÃ³n inspira a todos los que te rodean ðŸŒŸ',\n    'Con esa determinaciÃ³n, el Ã©xito es cuestiÃ³n de tiempo â°'\n  ]\n};\n\n// Seleccionar 3 frases aleatorias para cada mood\nconst dailyPhrases = {\n  date: dateStr,\n  generatedAt: new Date().toISOString(),\n  phrases: {}\n};\n\nmoods.forEach(mood => {\n  const moodPhrases = phrasesBank[mood];\n  const selectedPhrases = [];\n  const indices = [];\n  \n  // Seleccionar 3 frases aleatorias sin repetir\n  while (selectedPhrases.length < 3) {\n    const randomIndex = Math.floor(Math.random() * moodPhrases.length);\n    if (!indices.includes(randomIndex)) {\n      indices.push(randomIndex);\n      selectedPhrases.push(moodPhrases[randomIndex]);\n    }\n  }\n  \n  dailyPhrases.phrases[mood] = selectedPhrases;\n});\n\nreturn [{ json: dailyPhrases }];"
      },
      "name": "Generate Daily Phrases",
      "type": "n8n-nodes-base.function",
      "position": [450, 300],
      "typeVersion": 1,
      "id": "generate"
    },
    {
      "parameters": {
        "method": "PUT",
        "url": "=https://YOUR-PROJECT.firebaseio.com/daily-phrases/{{$json.date}}.json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "",
              "value": ""
            }
          ]
        },
        "options": {},
        "bodyParametersJson": "={{$json}}"
      },
      "name": "Save to Firebase",
      "type": "n8n-nodes-base.httpRequest",
      "position": [650, 300],
      "typeVersion": 3,
      "id": "firebase",
      "notes": "Remember to update YOUR-PROJECT with your actual Firebase project ID"
    }
  ],
  "connections": {
    "Daily Trigger 6AM": {
      "main": [
        [
          {
            "node": "Generate Daily Phrases",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Daily Phrases": {
      "main": [
        [
          {
            "node": "Save to Firebase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}